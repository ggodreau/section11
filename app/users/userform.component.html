<div class="container">
    <div class="row">
        <div class="col-md-3 col-lg-3">
        </div>
        <div class="col-md-6 col-lg-6"> 
            <h1 *ngIf="[routeParams.id] == 'new'">Add New User</h1>
            <h1 *ngIf="[routeParams.id] != 'new'">Edit User</h1>
            <div class="well well-lg">
                <form [ngFormModel]="signupForm">
                    <fieldset>
                        <legend>User</legend>
                        
                        <div class="form-group">
                            <label>Name</label>
                            <input 
                                ngControl="name"
                                #name="ngForm"
                                class="form-control"
                                type="text"
                                [(ngModel)]="userInfo.name">
                            <div 
                                *ngIf="name.touched && !name.valid"
                                class="alert alert-danger">
                                Name is required.
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Email</label>
                            <input 
                                ngControl="email"
                                #email="ngForm"
                                class="form-control"
                                type="text"
                                [(ngModel)]="userInfo.email">
                            <div *ngIf="email.touched && email.errors != null">
                                <div 
                                    *ngIf="email.errors?.isBlank"
                                    class="alert alert-danger">Email is cannot be blank.
                                </div>
                                <div
                                    *ngIf="email.errors?.email && !email.errors.isBlank"
                                    class="alert alert-danger">Please enter a valid email address.
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Phone</label>
                            <input 
                                ngControl="phone" 
                                class="form-control" 
                                type="text"
                                [(ngModel)]="userInfo.phone">
                        </div>
                    
                    </fieldset>
                    <fieldset>
                        <legend>Address</legend>
                        <div class="form-group" ngControlGroup="address">
                            
                            <label>Street</label>
                            <input 
                                ngControl="street" 
                                class="form-control" 
                                type="text"
                                [(ngModel)]="userInfo.address.street">
                            
                            <label>Suite</label>
                            <input 
                                ngControl="suite" 
                                class="form-control" 
                                type="text"
                                [(ngModel)]="userInfo.address.suite">
                            
                            <label>City</label>
                            <input 
                                ngControl="city"
                                class="form-control" 
                                type="text"
                                [(ngModel)]="userInfo.address.city">
                            
                            <label>ZipCode</label>
                            <input 
                                ngControl="zipcode"
                                class="form-control"
                                type="text"
                                [(ngModel)]="userInfo.address.zipcode">
                        </div>
                    </fieldset>
                    <button 
                        [disabled]="!(signupForm.controls.email.valid && signupForm.controls.name.valid)"
                        (click)="submit()"
                        type="submit"
                        class="btn btn-primary">
                        Submit!
                    </button>
                </form>
                <div *ngIf="submitted">name = {{ signupForm.value.name }}</div>
                <div *ngIf="submitted">email = {{ signupForm.value.email }}</div>
            </div>
        </div>
        <div class="col-md-3 col-lg-3">
        </div>
    </div>
</div>
